---
layout: "layouts/dashboard.njk"
tags: ["background-checks", "dashboard"]
redirectFrom:
  - /compare/background-checks/
eleventyComputed:
  title: "{{ adamWalsh.title }}"
  intro: "{{ adamWalsh.intro }}"
---

{%- macro checked(field) -%}
  {%- if field == "Fully Implemented" -%}
    true
  {%- elif field == "Partially Implemented" -%}
    partial
  {%- else -%}
    false
  {%- endif -%}
{%- endmacro -%}

{%- macro implementedCount(field) -%}
  {%- if field == "Fully Implemented" -%}
    1
  {%- elif field == "Partially Implemented" -%}
    0.5
  {%- else -%}
    0
  {%- endif -%}
{%- endmacro -%}

<div class="l-stack-basic">
<div class="l-wrapper-text">
  <div class="l-stack-basic">
    {{ intro | md | safe }}
  </div>
</div>

<div class="l-grid dashboard-grid">
{%- for territory in dashboardBackgroundChecks -%}
  {% set implementedNumber %}
    {{ implementedCount(territory.acceptsElectronic) | float + implementedCount(territory.acceptsElectronic) | float + implementedCount(territory.generalInbox) | int + implementedCount(territory.noFee) | float + implementedCount(territory.noSignature) | int }}
  {% endset %}

  {%- set implementedText -%}
    {%- if implementedNumber == 0 -%}
      None implemented
    {%- elif implementedNumber < 5 -%}
      Partially implemented
    {%- else -%}
      All implemented
    {%- endif -%}
  {%- endset -%}
  <section class="dashboard-card">
    <header>
      <h3 class="nametag-badge subhead">{{ territory.name }}</h3>
    </header>
    <ul>
      <li data-checked="{{ checked(territory.acceptsElectronic) }}">Accept electronic requests<span class="sr-only">: {{ territory.acceptsElectronic }}</span></li>
      <li data-checked="{{ checked(territory.acceptsElectronic) }}">Accepts attestation of consent<span class="sr-only">: {{ territory.acceptsAttestation }}</span></li>
      <li data-checked="{{ checked(territory.generalInbox) }}">General inbox for receiving requests<span class="sr-only">: {{ territory.generalInbox }}</span></li>
      <li data-checked="{{ checked(territory.noFee) }}">No fee<span class="sr-only">: {{ territory.noFee }}</span></li>
      <li data-checked="{{ checked(territory.noSignature) }}">No notarized or witnessed signature<span class="sr-only">: {{ territory.noSignature }}</span></li>
    </ul>
    <p class="dashboard-status">{{ implementedText }}</p>
  </section>
{%- endfor -%}
</div>
</div>