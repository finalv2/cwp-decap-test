---
layout: layouts/default.njk
video: true
pagefind:
  type: Meeting
---

{%- from '_macros/resource-card.njk' import resourceCard %}

<div class="page-banner" data-type="meeting">
  <div class="l-wrapper">
    <div class="l-stack-basic">
      <div class="nametag" data-pagefind-meta="title">
        <span class="nametag-badge subhead">Community meeting<span class="sr-only">:</span></span>
        <div class="nametag-text">
          <h2>{{ title }}</h2>
        </div>
      </div>

      <div class="page-topics">
        <h3 class="sr-only">Topics</h3>
        <ul>
          {%- for topic in collections.topics -%}
            {%- for tag in tags -%}
              {%- if topic.data.id == tag -%}
                <li><a href="{{ topic.url }}">{% icon topic.data.icon %} {{ topic.data.title }}</a></li>
              {%- endif -%}
            {%- endfor -%}
          {%- endfor -%}
        </ul>
      </div>
    </div>
  </div>
</div>

<div class="l-wrapper play-wrapper">

<div class="l-section">
<div class="l-text-wrapper">
    <div class="plyr-wrapper">
      <div id="plyr" data-plyr-provider="youtube" data-plyr-embed-id="{{ youtubeId }}"></div>
    </div>

<div class="l-stack" data-pagefind-meta="topics:{{ pagefindMetaTags }}">
{{ content | md | safe }}


  {%- if resources -%}
    <h3>Related resources</h3>
    {% for relatedResource in resources %}
      {% set targetResource = collections.resources | selectattr("relatedResource") %}

      {{ resourceCard({
        filetype: targetResource.data.filetype,
        title: targetResource.data.title,
        description: targetResource.content,
        url: targetResource.data.url
        })
      }}
    {% endfor %}
  {%- endif -%}
</div>
</div>
  </div>
</div>
</div>

</div>

<script>
  const player = new Plyr('#plyr', {});
  window.player = player;
</script>