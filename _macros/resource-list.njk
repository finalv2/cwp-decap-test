---
eleventyExcludeFromCollections: true
---

{%- from '_macros/resource-card.njk' import resourceCard with context -%}

{% macro resourceList(params) %}

{%- if params.headerLevel %}
  {%- set headerLevel = params.headerLevel -%}
{%- else -%}
  {%- set headerLevel = "2" -%}
{%- endif -%}

{%- set resourceData -%}
{%- for resource in params.resources -%}
  {%- for item in collections.resources -%}
    {%- if item.data.title === resource -%}
      {{ resourceCard({
        filetype: item.data.filetype,
        title: item.data.title,
        description: item.data.description,
        url: item.data.url,
        file: item.data.file
        }) | safe }}
    {%- endif -%}
  {%- endfor -%}
{%- endfor -%}
{%- endset -%}

{%- if resourceData !== "" -%}
  <h{{ headerLevel }}>{{ params.title }}</h{{ headerLevel }}>
  {{ resourceData | safe }}
{%- endif -%}
{% endmacro %}